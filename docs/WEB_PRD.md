# MyFolio Web - PRD (Product Requirements Document)

> 3ê°œ ì¹´í…Œê³ ë¦¬ ì¤‘ì‹¬ í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬ - ì•±ì˜ í•µì‹¬ ê²½í—˜ì„ ì›¹ í™˜ê²½ì— ìµœì í™”

---

## 1. ì œí’ˆ ê°œìš”

### 1.1 í•µì‹¬ ì»¨ì…‰ (ì•±ê³¼ ë™ì¼)

**"3ê°œ ì¹´í…Œê³ ë¦¬ë¡œ ê°„ë‹¨í•˜ê²Œ ê´€ë¦¬í•˜ëŠ” í¬íŠ¸í´ë¦¬ì˜¤"**

- **ë‚˜ìŠ¤ë‹¥ 100** - ë¯¸êµ­ ëŒ€í‘œ ê¸°ìˆ ì£¼
- **S&P 500** - ë¯¸êµ­ ëŒ€í˜•ì£¼ ì§€ìˆ˜
- **ë°°ë‹¹ì£¼** - ì•ˆì •ì ì¸ ë°°ë‹¹ ìˆ˜ìµ

ì‚¬ìš©ìëŠ” ë³´ìœ  ì£¼ì‹ì„ ì´ 3ê°œ ì¹´í…Œê³ ë¦¬ë¡œ ë¶„ë¥˜í•˜ê³ , ê° ì¹´í…Œê³ ë¦¬ë³„ ëª©í‘œ ê¸ˆì•¡(ì˜ˆ: 1ì–µ ëª¨ìœ¼ê¸°)ì„ ì„¤ì •í•˜ì—¬ ì¶”ì í•©ë‹ˆë‹¤.

### 1.2 ì›¹ ë²„ì „ì˜ ëª©í‘œ

âœ… **ê¸°ì¡´ ì•± ê¸°ëŠ¥ ìœ ì§€:**
- 3ê°œ ì¹´í…Œê³ ë¦¬ íƒ­ êµ¬ì¡°
- ì¹´í…Œê³ ë¦¬ë³„ ëª©í‘œ ì„¤ì • ë° ì§„í–‰ë¥  ì¶”ì 
- ì¼ë³„/ì›”ë³„/ì—°ê°„ ìˆ˜ìµ ì¶”ì´ ê·¸ë˜í”„
- ì¢…ëª© ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ

âœ… **ì›¹ í™˜ê²½ ìµœì í™”:**
- ë„“ì€ í™”ë©´ í™œìš© (ì‚¬ì´ë“œë°” ë„¤ë¹„ê²Œì´ì…˜)
- í•œ í™”ë©´ì— ë” ë§ì€ ì •ë³´ í‘œì‹œ
- í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ ì§€ì›
- í…Œì´ë¸” ê¸°ë°˜ ì¢…ëª© ê´€ë¦¬ (ì •ë ¬, í•„í„°ë§)
- ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ (ë°ìŠ¤í¬í†±/íƒœë¸”ë¦¿/ëª¨ë°”ì¼)

---

## 2. í™”ë©´ êµ¬ì¡°

### 2.1 ë ˆì´ì•„ì›ƒ (ë°ìŠ¤í¬í†±)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ  MyFolio]                    [ğŸ”” ì•Œë¦¼] [ğŸ‘¤ í”„ë¡œí•„]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           â”‚                                                â”‚
â”‚ [ì‚¬ì´ë“œë°”] â”‚           [ë©”ì¸ ì½˜í…ì¸ ]                         â”‚
â”‚           â”‚                                                â”‚
â”‚ ëŒ€ì‹œë³´ë“œ   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ ğŸ“Š        â”‚  â”‚ íˆì–´ë¡œ ì¹´ë“œ: ì´ ìì‚°                    â”‚   â”‚
â”‚           â”‚  â”‚ â‚©52,345,678 (+12.3%)                  â”‚   â”‚
â”‚ ë‚˜ìŠ¤ë‹¥100  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚ ğŸ“ˆ        â”‚                                                â”‚
â”‚           â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ S&P 500   â”‚  â”‚ ìˆ˜ìµ ì¶”ì´ ì°¨íŠ¸ (ì¼/ì›”/ì—°)              â”‚   â”‚
â”‚ ğŸ“Š        â”‚  â”‚ [1ê°œì›”] [3ê°œì›”] [6ê°œì›”] [1ë…„] [ì „ì²´]   â”‚   â”‚
â”‚           â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚ ë°°ë‹¹ì£¼     â”‚                                                â”‚
â”‚ ğŸ’°        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚           â”‚  â”‚ ì¹´í…Œê³ ë¦¬ë³„ ìì‚° ë°°ë¶„ (ì›í˜• ì°¨íŠ¸)        â”‚   â”‚
â”‚ ë¦¬ë°¸ëŸ°ì‹±   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚ âš–ï¸        â”‚                                                â”‚
â”‚           â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ ì›”ê°„ë¦¬í¬íŠ¸ â”‚  â”‚ ë³´ìœ  ì¢…ëª© ëª©ë¡ (í…Œì´ë¸”)                â”‚   â”‚
â”‚ ğŸ“…        â”‚  â”‚ í‹°ì»¤ | ì¢…ëª©ëª… | ìˆ˜ëŸ‰ | í‰ë‹¨ê°€ | ìˆ˜ìµ  â”‚   â”‚
â”‚           â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚           â”‚                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ëª¨ë°”ì¼ ë ˆì´ì•„ì›ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ  MyFolio]    [ğŸ‘¤]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                            â”‚
â”‚  íˆì–´ë¡œ ì¹´ë“œ                 â”‚
â”‚  â‚©52,345,678              â”‚
â”‚  +12.3%                   â”‚
â”‚                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                            â”‚
â”‚  ìˆ˜ìµ ì¶”ì´ ì°¨íŠ¸              â”‚
â”‚  (ì„¸ë¡œ ìŠ¤í¬ë¡¤)              â”‚
â”‚                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                            â”‚
â”‚  ì¹´í…Œê³ ë¦¬ ë°°ë¶„               â”‚
â”‚                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                            â”‚
â”‚  ë³´ìœ  ì¢…ëª© ëª©ë¡              â”‚
â”‚  (ì¹´ë“œí˜•)                   â”‚
â”‚                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                            â”‚
â”‚ [ëŒ€ì‹œë³´ë“œ] [ë‚˜ìŠ¤ë‹¥] [S&P]   â”‚  â† í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜
â”‚ [ë°°ë‹¹ì£¼] [ì„¤ì •]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. í•µì‹¬ í™”ë©´ ìƒì„¸ ì„¤ê³„

### 3.1 ëŒ€ì‹œë³´ë“œ (ë©”ì¸)

#### 3.1.1 íˆì–´ë¡œ ì¹´ë“œ (ì´ ìì‚° ìš”ì•½)

ì•±ê³¼ ë™ì¼í•œ ì •ë³´, ì›¹ì— ë§ê²Œ ë ˆì´ì•„ì›ƒ ì¡°ì •:

```tsx
// components/hero-asset-card.tsx
import { Card, CardContent } from "@/components/ui/card"
import { TrendingUp, TrendingDown } from "lucide-react"

export function HeroAssetCard({
  totalAsset,
  totalProfit,
  profitRate,
  todayProfit,
  todayProfitRate
}) {
  return (
    <Card className="bg-gradient-to-br from-blue-600 to-purple-700 text-white">
      <CardContent className="p-6">
        <div className="text-sm opacity-90">ì´ ìì‚°</div>
        <div className="text-4xl font-bold mt-2">
          {formatCurrency(totalAsset)}
        </div>

        <div className="flex items-center gap-4 mt-4">
          <div className="flex items-center gap-1">
            {profitRate >= 0 ? <TrendingUp /> : <TrendingDown />}
            <span className="text-lg font-semibold">
              {profitRate >= 0 ? '+' : ''}{profitRate.toFixed(2)}%
            </span>
          </div>
          <span className="text-sm opacity-90">
            ({profitRate >= 0 ? '+' : ''}{formatCurrency(totalProfit)})
          </span>
        </div>

        <div className="mt-3 text-sm opacity-75">
          ì˜¤ëŠ˜: {todayProfitRate >= 0 ? '+' : ''}{todayProfitRate}%
          ({todayProfitRate >= 0 ? '+' : ''}{formatCurrency(todayProfit)})
        </div>
      </CardContent>
    </Card>
  )
}
```

#### 3.1.2 ìˆ˜ìµ ì¶”ì´ ì°¨íŠ¸

```tsx
// components/profit-chart.tsx
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card"
import { Tabs, TabsList, TabsTrigger } from "@/components/ui/tabs"
import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts'

export function ProfitChart({ data, period, onPeriodChange }) {
  return (
    <Card>
      <CardHeader>
        <div className="flex items-center justify-between">
          <CardTitle>ìˆ˜ìµ ì¶”ì´</CardTitle>
          <Tabs value={period} onValueChange={onPeriodChange}>
            <TabsList>
              <TabsTrigger value="1m">1ê°œì›”</TabsTrigger>
              <TabsTrigger value="3m">3ê°œì›”</TabsTrigger>
              <TabsTrigger value="6m">6ê°œì›”</TabsTrigger>
              <TabsTrigger value="1y">1ë…„</TabsTrigger>
              <TabsTrigger value="all">ì „ì²´</TabsTrigger>
            </TabsList>
          </Tabs>
        </div>
      </CardHeader>
      <CardContent>
        <ResponsiveContainer width="100%" height={300}>
          <LineChart data={data}>
            <CartesianGrid strokeDasharray="3 3" />
            <XAxis dataKey="date" />
            <YAxis />
            <Tooltip />
            <Legend />
            <Line type="monotone" dataKey="dailyProfit" stroke="#ef4444" name="ì¼ì¼ ìˆ˜ìµ" />
            <Line type="monotone" dataKey="monthlyProfit" stroke="#3b82f6" name="ì›” ëˆ„ì " />
            <Line type="monotone" dataKey="yearlyProfit" stroke="#10b981" name="ì—° ëˆ„ì " />
          </LineChart>
        </ResponsiveContainer>
      </CardContent>
    </Card>
  )
}
```

#### 3.1.3 ì¹´í…Œê³ ë¦¬ë³„ ìì‚° ë°°ë¶„ (ì›í˜• ì°¨íŠ¸)

```tsx
// components/category-allocation.tsx
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card"
import { PieChart, Pie, Cell, ResponsiveContainer, Legend, Tooltip } from 'recharts'

const COLORS = {
  nasdaq100: '#3b82f6',
  sp500: '#10b981',
  dividend: '#f59e0b'
}

export function CategoryAllocation({ categories }) {
  return (
    <Card>
      <CardHeader>
        <CardTitle>ì¹´í…Œê³ ë¦¬ë³„ ìì‚° ë°°ë¶„</CardTitle>
      </CardHeader>
      <CardContent>
        <ResponsiveContainer width="100%" height={250}>
          <PieChart>
            <Pie
              data={categories}
              dataKey="value"
              nameKey="name"
              cx="50%"
              cy="50%"
              outerRadius={80}
              label
            >
              {categories.map((entry, index) => (
                <Cell key={`cell-${index}`} fill={COLORS[entry.id]} />
              ))}
            </Pie>
            <Tooltip />
            <Legend />
          </PieChart>
        </ResponsiveContainer>

        <div className="mt-4 space-y-2">
          {categories.map((cat) => (
            <div key={cat.id} className="flex justify-between text-sm">
              <span className="flex items-center gap-2">
                <span className="w-3 h-3 rounded-full" style={{ backgroundColor: COLORS[cat.id] }} />
                {cat.name}
              </span>
              <span className="font-semibold">
                {cat.percentage}% ({formatCurrency(cat.value)})
              </span>
            </div>
          ))}
        </div>
      </CardContent>
    </Card>
  )
}
```

#### 3.1.4 ë³´ìœ  ì¢…ëª© ëª©ë¡ (í…Œì´ë¸”)

```tsx
// components/portfolio-table.tsx
import { useState } from 'react'
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from "@/components/ui/table"
import { Input } from "@/components/ui/input"
import { Button } from "@/components/ui/button"
import { Search, Plus } from "lucide-react"

export function PortfolioTable({ portfolios, onAdd, onEdit }) {
  const [search, setSearch] = useState('')
  const [sortBy, setSortBy] = useState<'ticker' | 'profit'>('ticker')

  const filtered = portfolios
    .filter(p =>
      p.stockName.toLowerCase().includes(search.toLowerCase()) ||
      p.ticker.toLowerCase().includes(search.toLowerCase())
    )
    .sort((a, b) => {
      if (sortBy === 'profit') return b.profitRate - a.profitRate
      return a.ticker.localeCompare(b.ticker)
    })

  return (
    <div className="space-y-4">
      <div className="flex items-center justify-between">
        <div className="relative flex-1 max-w-sm">
          <Search className="absolute left-2 top-2.5 h-4 w-4 text-muted-foreground" />
          <Input
            placeholder="ì¢…ëª© ê²€ìƒ‰..."
            value={search}
            onChange={(e) => setSearch(e.target.value)}
            className="pl-8"
          />
        </div>
        <Button onClick={onAdd}>
          <Plus className="h-4 w-4 mr-2" />
          ì¢…ëª© ì¶”ê°€
        </Button>
      </div>

      <div className="rounded-md border">
        <Table>
          <TableHeader>
            <TableRow>
              <TableHead onClick={() => setSortBy('ticker')} className="cursor-pointer">
                ì¹´í…Œê³ ë¦¬
              </TableHead>
              <TableHead>í‹°ì»¤</TableHead>
              <TableHead>ì¢…ëª©ëª…</TableHead>
              <TableHead className="text-right">ìˆ˜ëŸ‰</TableHead>
              <TableHead className="text-right">í‰ë‹¨ê°€</TableHead>
              <TableHead className="text-right">í˜„ì¬ê°€</TableHead>
              <TableHead
                className="text-right cursor-pointer"
                onClick={() => setSortBy('profit')}
              >
                ìˆ˜ìµë¥ 
              </TableHead>
            </TableRow>
          </TableHeader>
          <TableBody>
            {filtered.map((portfolio) => (
              <TableRow
                key={portfolio.id}
                className="cursor-pointer hover:bg-muted/50"
                onClick={() => onEdit(portfolio)}
              >
                <TableCell>
                  <span className="inline-flex items-center gap-1">
                    {portfolio.category.icon} {portfolio.category.name}
                  </span>
                </TableCell>
                <TableCell className="font-medium">{portfolio.ticker}</TableCell>
                <TableCell>{portfolio.stockName}</TableCell>
                <TableCell className="text-right">{portfolio.quantity}</TableCell>
                <TableCell className="text-right">{formatCurrency(portfolio.avgPrice)}</TableCell>
                <TableCell className="text-right">{formatCurrency(portfolio.currentPrice)}</TableCell>
                <TableCell className={`text-right font-semibold ${
                  portfolio.profitRate >= 0 ? 'text-red-600' : 'text-blue-600'
                }`}>
                  {portfolio.profitRate >= 0 ? '+' : ''}{portfolio.profitRate.toFixed(2)}%
                </TableCell>
              </TableRow>
            ))}
          </TableBody>
        </Table>
      </div>
    </div>
  )
}
```

---

### 3.2 ì¹´í…Œê³ ë¦¬ í™”ë©´ (ë‚˜ìŠ¤ë‹¥100 / S&P 500 / ë°°ë‹¹ì£¼)

#### 3.2.1 ì¹´í…Œê³ ë¦¬ í—¤ë”

```tsx
// components/category-header.tsx
import { Card, CardContent } from "@/components/ui/card"
import { Button } from "@/components/ui/button"
import { Progress } from "@/components/ui/progress"
import { Settings } from "lucide-react"

export function CategoryHeader({ category, currentValue, percentage, targetPercentage }) {
  return (
    <Card>
      <CardContent className="p-6">
        <div className="flex items-start justify-between">
          <div>
            <h2 className="text-2xl font-bold flex items-center gap-2">
              <span>{category.icon}</span>
              <span>{category.name}</span>
            </h2>
            <p className="text-sm text-muted-foreground mt-1">
              {category.description}
            </p>
          </div>
          <Button variant="outline" size="icon">
            <Settings className="h-4 w-4" />
          </Button>
        </div>

        <div className="mt-6 space-y-2">
          <div className="flex justify-between text-sm">
            <span className="text-muted-foreground">í˜„ì¬ ìì‚°</span>
            <span className="font-bold text-lg">{formatCurrency(currentValue)}</span>
          </div>
          <div className="flex justify-between text-sm">
            <span className="text-muted-foreground">ë¹„ì¤‘</span>
            <span className="font-semibold">{percentage.toFixed(1)}% / ëª©í‘œ {targetPercentage}%</span>
          </div>
          <Progress value={(percentage / targetPercentage) * 100} className="h-2" />
        </div>
      </CardContent>
    </Card>
  )
}
```

#### 3.2.2 ëª©í‘œ ì§„í–‰ë¥  ì¹´ë“œ

```tsx
// components/goal-progress-card.tsx
import { Card, CardContent } from "@/components/ui/card"
import { Button } from "@/components/ui/button"
import { Progress } from "@/components/ui/progress"
import { Target } from "lucide-react"

export function GoalProgressCard({ category, currentValue, targetAmount, onSetGoal }) {
  // ëª©í‘œ ë¯¸ì„¤ì •
  if (!targetAmount) {
    return (
      <Card className="border-2 border-dashed">
        <CardContent className="p-6">
          <div className="flex items-start gap-4">
            <div className="p-3 rounded-lg bg-primary/10">
              <Target className="h-8 w-8 text-primary" />
            </div>
            <div className="flex-1">
              <h3 className="font-bold text-lg">ëª©í‘œë¥¼ ì„¤ì •í•´ë³´ì„¸ìš”!</h3>
              <p className="text-sm text-muted-foreground mt-1">
                "1ì–µ ëª¨ìœ¼ê¸°" ëª©í‘œë¡œ ë™ê¸°ë¶€ì—¬ ë°›ê¸°
              </p>
              <Button onClick={onSetGoal} className="mt-4">
                ëª©í‘œ ì„¤ì •í•˜ê¸°
              </Button>
            </div>
          </div>
        </CardContent>
      </Card>
    )
  }

  // ëª©í‘œ ì„¤ì •ë¨
  const progress = (currentValue / targetAmount) * 100
  const remaining = targetAmount - currentValue

  return (
    <Card>
      <CardContent className="p-6">
        <div className="flex justify-between items-center mb-4">
          <h3 className="font-bold">ëª©í‘œ: {formatCurrency(targetAmount)} ëª¨ìœ¼ê¸°</h3>
          <span className="text-2xl font-bold text-primary">
            {progress.toFixed(1)}%
          </span>
        </div>

        <Progress value={progress} className="h-3 mb-4" />

        <div className="flex justify-between text-sm">
          <div>
            <span className="text-muted-foreground">í˜„ì¬</span>
            <p className="font-semibold mt-1">{formatCurrency(currentValue)}</p>
          </div>
          <div className="text-right">
            <span className="text-muted-foreground">ë¶€ì¡±</span>
            <p className="font-semibold mt-1">{formatCurrency(remaining)}</p>
          </div>
        </div>
      </CardContent>
    </Card>
  )
}
```

---

### 3.3 ë¦¬ë°¸ëŸ°ì‹± í™”ë©´

```tsx
// components/rebalancing-view.tsx
import { useState } from 'react'
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card"
import { Slider } from "@/components/ui/slider"
import { Button } from "@/components/ui/button"
import { Download } from "lucide-react"

export function RebalancingView({ categories, totalAsset }) {
  const [targets, setTargets] = useState({
    nasdaq100: 50,
    sp500: 30,
    dividend: 20
  })

  const total = Object.values(targets).reduce((a, b) => a + b, 0)
  const isValid = total === 100

  return (
    <div className="space-y-6">
      <Card>
        <CardHeader>
          <CardTitle>ëª©í‘œ ë¹„ì¤‘ ì„¤ì •</CardTitle>
        </CardHeader>
        <CardContent className="space-y-6">
          {categories.map((cat) => (
            <div key={cat.id} className="space-y-2">
              <div className="flex justify-between">
                <span className="font-medium">{cat.icon} {cat.name}</span>
                <span className="font-bold">{targets[cat.id]}%</span>
              </div>
              <Slider
                value={[targets[cat.id]]}
                onValueChange={(value) => setTargets({ ...targets, [cat.id]: value[0] })}
                max={100}
                step={5}
              />
            </div>
          ))}

          <div className="pt-4 border-t">
            <div className="flex justify-between items-center">
              <span className="font-semibold">í•©ê³„</span>
              <span className={`text-xl font-bold ${isValid ? 'text-green-600' : 'text-red-600'}`}>
                {total}% {isValid ? 'âœ…' : 'âŒ'}
              </span>
            </div>
          </div>
        </CardContent>
      </Card>

      <Card>
        <CardHeader>
          <CardTitle>ë¦¬ë°¸ëŸ°ì‹± ì œì•ˆ</CardTitle>
        </CardHeader>
        <CardContent>
          <div className="space-y-4">
            {categories.map((cat) => {
              const targetAmount = totalAsset * (targets[cat.id] / 100)
              const diff = targetAmount - cat.currentValue

              return (
                <div key={cat.id} className="flex justify-between items-center p-3 rounded-lg bg-muted/50">
                  <span className="font-medium">{cat.icon} {cat.name}</span>
                  <span className={`font-bold ${diff >= 0 ? 'text-red-600' : 'text-blue-600'}`}>
                    {diff >= 0 ? '+' : ''}{formatCurrency(diff)}
                    {diff >= 0 ? ' ë§¤ìˆ˜ í•„ìš”' : ' ë§¤ë„ í•„ìš”'}
                  </span>
                </div>
              )
            })}
          </div>

          <Button className="w-full mt-6" disabled={!isValid}>
            <Download className="h-4 w-4 mr-2" />
            ë¦¬ë°¸ëŸ°ì‹± í”Œëœ ë‹¤ìš´ë¡œë“œ (CSV)
          </Button>
        </CardContent>
      </Card>
    </div>
  )
}
```

---

## 4. ê¸°ìˆ  ìŠ¤íƒ

### 4.1 í”„ë¡ íŠ¸ì—”ë“œ

**í”„ë ˆì„ì›Œí¬:** Next.js 14 (App Router)

**ì´ìœ :**
- âœ… React ê¸°ë°˜ - í’ë¶€í•œ ìƒíƒœê³„
- âœ… App Router - ìµœì‹  ì„œë²„ ì»´í¬ë„ŒíŠ¸ ì§€ì›
- âœ… íŒŒì¼ ê¸°ë°˜ ë¼ìš°íŒ… (ê°„í¸í•œ êµ¬ì¡°)
- âœ… API Routes - ë°±ì—”ë“œ í•¨ìˆ˜ ë‚´ì¥
- âœ… SEO ìµœì í™” (SSR/SSG)
- âœ… Vercel ë°°í¬ ì›í´ë¦­

**UI ë¼ì´ë¸ŒëŸ¬ë¦¬:**
- **shadcn/ui** - ë³µì‚¬ ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ (ì»¤ìŠ¤í„°ë§ˆì´ì§• ì‰¬ì›€)
- **Tailwind CSS** - ìœ í‹¸ë¦¬í‹° ê¸°ë°˜ ìŠ¤íƒ€ì¼ë§
- **Lucide Icons** - ì•„ì´ì½˜ (shadcn ê¸°ë³¸ ì‚¬ìš©)

**ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬:**
- **Recharts** - React ë„¤ì´í‹°ë¸Œ ì°¨íŠ¸ (ë°˜ì‘í˜•, ì»¤ìŠ¤í„°ë§ˆì´ì§• ì‰¬ì›€)

**ìƒíƒœ ê´€ë¦¬:**
- **Zustand** - ê°„ë‹¨í•œ ì „ì—­ ìƒíƒœ ê´€ë¦¬
- **TanStack Query (React Query)** - ì„œë²„ ìƒíƒœ ê´€ë¦¬, ìºì‹±

**í¼ ê´€ë¦¬:**
- **React Hook Form** - ê³ ì„±ëŠ¥ í¼ ë¼ì´ë¸ŒëŸ¬ë¦¬
- **Zod** - íƒ€ì… ì•ˆì „í•œ ìŠ¤í‚¤ë§ˆ ê²€ì¦

### 4.2 ë°±ì—”ë“œ

**ì¸ì¦:** NextAuth.js
- ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ë¡œê·¸ì¸
- Google OAuth (ì„ íƒì )
- JWT ì„¸ì…˜ ê´€ë¦¬

**ë°ì´í„°ë² ì´ìŠ¤:**
- **Prisma ORM** - íƒ€ì… ì•ˆì „í•œ ORM
- **PostgreSQL** (Vercel Postgres ë˜ëŠ” Supabase)

**ì£¼ê°€ ë°ì´í„° API:**
- Yahoo Finance API (ë¬´ë£Œ)
- ì„œë²„ ì‚¬ì´ë“œì—ì„œ í˜¸ì¶œ (API í‚¤ ìˆ¨ê¹€)

**ë°°í¬:**
- **Vercel** - Next.js ìµœì  í˜¸ìŠ¤íŒ…
- **ìë™ CI/CD** - Git push ì‹œ ìë™ ë°°í¬

### 4.3 ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ (Prisma)

```prisma
// prisma/schema.prisma

model User {
  id            String      @id @default(cuid())
  email         String      @unique
  passwordHash  String
  name          String?
  createdAt     DateTime    @default(now())
  updatedAt     DateTime    @updatedAt

  portfolios    Portfolio[]
  categories    Category[]
  snapshots     DailySnapshot[]
}

model Category {
  id              String      @id @default(cuid())
  userId          String
  name            String      // "ë‚˜ìŠ¤ë‹¥100", "S&P 500", "ë°°ë‹¹ì£¼"
  icon            String
  color           String
  targetPercentage Float      @default(0)
  targetAmount    Float?
  description     String

  user            User        @relation(fields: [userId], references: [id], onDelete: Cascade)
  portfolios      Portfolio[]

  @@unique([userId, name])
}

model Portfolio {
  id            String      @id @default(cuid())
  userId        String
  categoryId    String
  ticker        String
  stockName     String
  quantity      Int
  averagePrice  Float
  currentPrice  Float       @default(0)
  market        String      // "US" | "KR"
  createdAt     DateTime    @default(now())
  updatedAt     DateTime    @updatedAt

  user          User        @relation(fields: [userId], references: [id], onDelete: Cascade)
  category      Category    @relation(fields: [categoryId], references: [id], onDelete: Cascade)

  @@index([userId])
  @@index([categoryId])
}

model DailySnapshot {
  id            String      @id @default(cuid())
  userId        String
  date          DateTime    @db.Date
  totalValue    Float
  totalCost     Float
  dailyProfit   Float
  monthlyProfit Float
  yearlyProfit  Float
  createdAt     DateTime    @default(now())

  user          User        @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@unique([userId, date])
  @@index([userId, date])
}
```

---

## 5. í”„ë¡œì íŠ¸ êµ¬ì¡°

```
my-portfolio-web/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ (auth)/
â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â””â”€â”€ signup/
â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ (dashboard)/
â”‚   â”‚   â”œâ”€â”€ layout.tsx                # ì‚¬ì´ë“œë°” ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â”œâ”€â”€ page.tsx                  # ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”œâ”€â”€ nasdaq100/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ sp500/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ dividend/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ rebalancing/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â””â”€â”€ reports/
â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â””â”€â”€ [...nextauth]/
â”‚   â”‚   â”‚       â””â”€â”€ route.ts
â”‚   â”‚   â”œâ”€â”€ portfolio/
â”‚   â”‚   â”‚   â”œâ”€â”€ route.ts              # GET /api/portfolio
â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚       â””â”€â”€ route.ts          # PUT, DELETE /api/portfolio/:id
â”‚   â”‚   â”œâ”€â”€ prices/
â”‚   â”‚   â”‚   â””â”€â”€ [ticker]/
â”‚   â”‚   â”‚       â””â”€â”€ route.ts          # GET /api/prices/:ticker
â”‚   â”‚   â””â”€â”€ snapshots/
â”‚   â”‚       â””â”€â”€ route.ts              # GET /api/snapshots
â”‚   â”œâ”€â”€ layout.tsx                    # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
â”‚   â””â”€â”€ page.tsx                      # ëœë”© í˜ì´ì§€
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                           # shadcn/ui ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”œâ”€â”€ card.tsx
â”‚   â”‚   â”œâ”€â”€ input.tsx
â”‚   â”‚   â”œâ”€â”€ table.tsx
â”‚   â”‚   â”œâ”€â”€ tabs.tsx
â”‚   â”‚   â”œâ”€â”€ progress.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ hero-asset-card.tsx
â”‚   â”œâ”€â”€ profit-chart.tsx
â”‚   â”œâ”€â”€ category-allocation.tsx
â”‚   â”œâ”€â”€ portfolio-table.tsx
â”‚   â”œâ”€â”€ category-header.tsx
â”‚   â”œâ”€â”€ goal-progress-card.tsx
â”‚   â”œâ”€â”€ rebalancing-view.tsx
â”‚   â”œâ”€â”€ sidebar.tsx
â”‚   â””â”€â”€ mobile-nav.tsx
â”‚
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ prisma.ts                     # Prisma í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ auth.ts                       # NextAuth ì„¤ì •
â”‚   â”œâ”€â”€ utils.ts                      # ìœ í‹¸ í•¨ìˆ˜ (cn, formatCurrency ë“±)
â”‚   â”œâ”€â”€ yahoo-finance.ts              # Yahoo Finance API ë˜í¼
â”‚   â””â”€â”€ validations/
â”‚       â””â”€â”€ portfolio.ts              # Zod ìŠ¤í‚¤ë§ˆ
â”‚
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ use-portfolio.ts              # í¬íŠ¸í´ë¦¬ì˜¤ ë°ì´í„° í›…
â”‚   â”œâ”€â”€ use-categories.ts             # ì¹´í…Œê³ ë¦¬ ë°ì´í„° í›…
â”‚   â””â”€â”€ use-snapshots.ts              # ìŠ¤ëƒ…ìƒ· ë°ì´í„° í›…
â”‚
â”œâ”€â”€ store/
â”‚   â””â”€â”€ use-store.ts                  # Zustand ìŠ¤í† ì–´
â”‚
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ schema.prisma
â”‚   â””â”€â”€ migrations/
â”‚
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â””â”€â”€ og-image.png
â”‚
â”œâ”€â”€ .env.local
â”œâ”€â”€ .gitignore
â”œâ”€â”€ next.config.js
â”œâ”€â”€ package.json
â”œâ”€â”€ tailwind.config.ts
â””â”€â”€ tsconfig.json
```

---

## 6. ë°˜ì‘í˜• ë””ìì¸

### 6.1 Tailwind ë¸Œë ˆì´í¬í¬ì¸íŠ¸

```typescript
// tailwind.config.ts
export default {
  theme: {
    screens: {
      'sm': '640px',   // ëª¨ë°”ì¼ ê°€ë¡œ
      'md': '768px',   // íƒœë¸”ë¦¿
      'lg': '1024px',  // ë°ìŠ¤í¬í†±
      'xl': '1280px',  // í° ë°ìŠ¤í¬í†±
      '2xl': '1536px', // ì´ˆëŒ€í˜•
    }
  }
}
```

### 6.2 ë ˆì´ì•„ì›ƒ ë³€í™”

```tsx
// app/(dashboard)/layout.tsx
export default function DashboardLayout({ children }) {
  return (
    <div className="flex h-screen">
      {/* ì‚¬ì´ë“œë°” - ë°ìŠ¤í¬í†±ë§Œ í‘œì‹œ */}
      <aside className="hidden lg:flex w-64 border-r">
        <Sidebar />
      </aside>

      {/* ë©”ì¸ ì½˜í…ì¸  */}
      <main className="flex-1 overflow-y-auto">
        {children}
      </main>

      {/* í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ - ëª¨ë°”ì¼ë§Œ í‘œì‹œ */}
      <nav className="lg:hidden fixed bottom-0 w-full border-t bg-background">
        <MobileNav />
      </nav>
    </div>
  )
}
```

---

## 7. API Routes ì˜ˆì‹œ

### 7.1 í¬íŠ¸í´ë¦¬ì˜¤ ëª©ë¡ ì¡°íšŒ

```typescript
// app/api/portfolio/route.ts
import { NextResponse } from 'next/server'
import { getServerSession } from 'next-auth'
import { prisma } from '@/lib/prisma'
import { authOptions } from '@/lib/auth'

export async function GET() {
  const session = await getServerSession(authOptions)

  if (!session) {
    return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })
  }

  const portfolios = await prisma.portfolio.findMany({
    where: { userId: session.user.id },
    include: { category: true },
    orderBy: { createdAt: 'desc' }
  })

  return NextResponse.json(portfolios)
}

export async function POST(request: Request) {
  const session = await getServerSession(authOptions)

  if (!session) {
    return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })
  }

  const body = await request.json()

  const portfolio = await prisma.portfolio.create({
    data: {
      userId: session.user.id,
      categoryId: body.categoryId,
      ticker: body.ticker,
      stockName: body.stockName,
      quantity: body.quantity,
      averagePrice: body.averagePrice,
      market: body.market
    }
  })

  return NextResponse.json(portfolio)
}
```

### 7.2 ì£¼ê°€ ì¡°íšŒ (Yahoo Finance)

```typescript
// app/api/prices/[ticker]/route.ts
import { NextResponse } from 'next/server'
import { getStockPrice } from '@/lib/yahoo-finance'

export async function GET(
  request: Request,
  { params }: { params: { ticker: string } }
) {
  try {
    const { ticker } = params
    const price = await getStockPrice(ticker)

    return NextResponse.json({ ticker, price })
  } catch (error) {
    return NextResponse.json(
      { error: 'Failed to fetch price' },
      { status: 500 }
    )
  }
}
```

---

## 8. ê°œë°œ ë¡œë“œë§µ

### MVP (4ì£¼)

**Week 1: í”„ë¡œì íŠ¸ ì„¤ì •**
```bash
# í”„ë¡œì íŠ¸ ìƒì„±
npx create-next-app@latest my-portfolio-web --typescript --tailwind --app

# shadcn/ui ì„¤ì¹˜
npx shadcn-ui@latest init

# í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜
npm install prisma @prisma/client
npm install next-auth
npm install zustand @tanstack/react-query
npm install recharts
npm install react-hook-form zod @hookform/resolvers
npm install lucide-react

# Prisma ì´ˆê¸°í™”
npx prisma init
```

- âœ… Next.js í”„ë¡œì íŠ¸ ìƒì„±
- âœ… shadcn/ui, Tailwind ì„¤ì •
- âœ… Prisma ì„¤ì • ë° ìŠ¤í‚¤ë§ˆ ì‘ì„±
- âœ… NextAuth ì„¤ì • (ì´ë©”ì¼ ë¡œê·¸ì¸)

**Week 2: ì¸ì¦ ë° ë ˆì´ì•„ì›ƒ**
- âœ… ë¡œê·¸ì¸/íšŒì›ê°€ì… í˜ì´ì§€
- âœ… ì‚¬ì´ë“œë°” ë ˆì´ì•„ì›ƒ (ë°ìŠ¤í¬í†±)
- âœ… í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ (ëª¨ë°”ì¼)
- âœ… ë°˜ì‘í˜• ë””ìì¸ ê¸°ë³¸ êµ¬ì¡°

**Week 3: í•µì‹¬ ê¸°ëŠ¥**
- âœ… ëŒ€ì‹œë³´ë“œ í™”ë©´ (íˆì–´ë¡œ ì¹´ë“œ, ì°¨íŠ¸, ë°°ë¶„)
- âœ… ì¹´í…Œê³ ë¦¬ í™”ë©´ (3ê°œ)
- âœ… ì¢…ëª© ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ ëª¨ë‹¬
- âœ… ëª©í‘œ ì„¤ì • ë° ì§„í–‰ë¥ 

**Week 4: ê³ ê¸‰ ê¸°ëŠ¥ ë° ë°°í¬**
- âœ… ë¦¬ë°¸ëŸ°ì‹± í™”ë©´
- âœ… ì›”ê°„ ë¦¬í¬íŠ¸
- âœ… Yahoo Finance API ì—°ë™
- âœ… Vercel ë°°í¬

### Phase 2 (ì¶”ê°€ 2ì£¼)

- í…Œì´ë¸” ì •ë ¬, í•„í„°, ê²€ìƒ‰
- CSV ë‚´ë³´ë‚´ê¸°
- í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤
- ë‹¤í¬ ëª¨ë“œ
- ì„±ëŠ¥ ìµœì í™”

---

## 9. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```env
# .env.local

# Database (Vercel Postgres ë˜ëŠ” Supabase)
DATABASE_URL="postgresql://..."

# NextAuth
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-secret-key-here"

# Yahoo Finance API (ì„ íƒì  - ë¬´ë£ŒëŠ” API í‚¤ ë¶ˆí•„ìš”)
# YAHOO_FINANCE_API_KEY=""

# ì´ë©”ì¼ (íšŒì›ê°€ì… ì¸ì¦ìš© - ì„ íƒì )
# SMTP_HOST=""
# SMTP_PORT=""
# SMTP_USER=""
# SMTP_PASSWORD=""
```

---

## 10. ì‹œì‘í•˜ê¸°

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/yourusername/my-portfolio-web.git
cd my-portfolio-web

# íŒ¨í‚¤ì§€ ì„¤ì¹˜
npm install

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env.local
# .env.local íŒŒì¼ ìˆ˜ì •

# Prisma ë§ˆì´ê·¸ë ˆì´ì…˜
npx prisma migrate dev

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev

# ë¸Œë¼ìš°ì €ì—ì„œ ì—´ê¸°
# http://localhost:3000
```

---

**ë¬¸ì„œ ë²„ì „:** 3.0 (Next.js + shadcn/ui)
**ì‘ì„±ì¼:** 2025-01-26
**ì‘ì„±ì:** bgc8214
**ìµœì¢… ìˆ˜ì •:** 2025-01-26

